<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>OpenSim Documentation : Getting Starting with Inverse Dynamics</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            OpenSim Documentation : Getting Starting with Inverse Dynamics
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Jan 30, 2012 by <font color="#0050B2">jenhicks</font>.
				    </div>
                    <div class="wiki-content" style="margin-left: 0.0px;"><p>On this page, we provide a conceptual review of the inputs and outputs of the Inverse Dynamics tool and a set of troubleshooting tips and best practices:</p><div><ul><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-Toc174781357Overview" rel="nofollow"><span class="confluence-anchor-link">Overview</span></a></li><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-Toc193528756SettingsFile" rel="nofollow"><span class="confluence-anchor-link">Settings File</span></a></li><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-Toc174781359Inputs" rel="nofollow"><span class="confluence-anchor-link">Inputs</span></a></li><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-Toc193528758Outputs" rel="nofollow"><span class="confluence-anchor-link">Outputs</span></a></li><li><a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics#InverseDynamics-BestPracticesandTroubleshooting" rel="nofollow">Best Practices and Troubleshooting</a></li></ul></div><p> </p><p>The following sections provide more details about how inverse dynamics works, how to use the GUI, and the settings used to configure the inverse dynamics tool.</p><h2 id="GettingStartingwithInverseDynamics-Overview"><span class="confluence-anchor-link"> </span>Overview</h2><p>This figure shows the required inputs and outputs for the Inverse Dynamics Tool. <br class="atl-forced-newline" /><span style="color: rgb(255,0,0);"><em>Note: The following file names are examples that can be found in the examples/Gait2354_Simbody directory installed with the OpenSim distribution.</em></span> <br class="atl-forced-newline" /><img class="confluence-embedded-image confluence-external-resource" height="100" width="572" src="attachments/1442897/1900610.png" data-image-src="http://simtk-confluence.stanford.edu:8080/download/attachments/1442897/worddavd6f50c98cb881cd6b2816763c93c6ee6.png?version=1&amp;modificationDate=1321557544744"><br /><strong>Figure</strong><strong>:</strong> <strong>Inputs and Outputs of the Inverse Dynamics Tool.</strong> Experimental data are shown in <span style="color: rgb(0,204,153);">green</span>; OpenSim files (.osim) are shown in <span style="color: rgb(165,0,33);">red</span>; settings files are shown in <span style="color: rgb(51,102,255);">blue</span>; files generated by the workflow are shown in <span style="color: rgb(153,51,255);">purple</span>.</p><h2 id="GettingStartingwithInverseDynamics-SettingsFile"><span class="confluence-anchor-link"> </span>Settings File</h2><p>The <span style="color: rgb(51,102,255);"><strong>subject01_Setup_InverseDynamics.xml</strong></span> file is the setup file for the Inverse Dynamics Tool. It contains settings, as described in detail in <a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/How+to+Use+the+Inverse+Dynamics+Tool" rel="nofollow">How to Use the Inverse Dynamics Tool</a>.</p><h2 id="GettingStartingwithInverseDynamics-Inputs"><span class="confluence-anchor-link"> </span>Inputs</h2><p>Three data files are required as input by the inverse dynamics tool:</p><p><span style="color: rgb(153,51,255);"><strong>subject01_walk1_ik.mot</strong></span>: Motion file containing the time histories of generalized coordinates that describe the movement of the model. This file could be generated by the Inverse Kinematics Tool, or manually. The file does not need to contain values for all coordinates. The coordinates that were not specified are assumed to have default values by the Tool.</p><p><span style="color: rgb(0,204,153);"><strong>subject01_walk1_grf.xml</strong></span>: xternal load data (i.e., ground reaction forces, moments, and center of pressure location). Note that it is necessary to measure and apply or model all external forces acting on a subject during the motion to calculate accurate joint torques and forces. This file includes the name of the ground reaction force-data file (e.g. subject01_grf.mot) as well as the names of the bodies they are applied to. Options to specify the forces, point of application, and torques in a global or body local frame (relative to the body to which the force is being applied) are also defined here. Details are provided in <a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/How+to+Use+the+Inverse+Dynamics+Tool" rel="nofollow">How to Use the Inverse Dynamics Tool</a>.</p><p><span style="color: rgb(165,0,33);"><strong>subject01_simbody.osim</strong></span>: A subject-specific OpenSim model generated by scaling a generic model with the Scale Tool or by other means, along with an associated marker set containing adjusted virtual markers. The model must include inertial parameters. Note that forces like contact, ligaments, bushings, and even muscles will be applied to the model based on the kinematic state of the model and defaults for the muscle states, unless these forces are specifically excluded in the calculation.</p><h2 id="GettingStartingwithInverseDynamics-Outputs"><span class="confluence-anchor-link"> </span>Outputs</h2><p>The Inverse Dynamics Tool generates a single file in a folder specified in the setup file: <br class="atl-forced-newline" /><span style="color: rgb(153,51,255);"><strong>subject01_walk1_InverseDynamics_force.sto</strong></span>: Storage file containing the time histories of the net joint torques and forces, acting along the coordinate axes that produce the accelerations estimated (via double differentiation) from your measured experimental motion and modeled and external forces applied.</p><h2 id="GettingStartingwithInverseDynamics-BestPracticesandTroubleshooting">Best Practices and Troubleshooting</h2><p><ol><li>Filter your raw coordinate data, since noise is amplified by differentiation. Without filtering, the calculated forces and torques will be very noisy.</li><li>Compare your results to data reported in the literature. Your results should be within one s.d. of reported values.</li><li>Inspect results from Inverse Dynamics to check if ground reaction forces were applied correctly or not. For gait, applying ground reaction forces should help reduce the forces computed by Inverse Dynamics at the pelvis.</li></ol></p><div class="panel" style="background-color: white;border-color: gray;border-style: solid;border-width: 5px;"><div class="panelContent" style="background-color: white;">
<p>Next: <a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/How+Inverse+Dynamics+Works">How Inverse Dynamics Works</a></p><p>Home: <a href="http://simtk-confluence.stanford.edu:8080/display/OpenSim/Inverse+Dynamics">Inverse Dynamics</a></p>
</div></div></div>
				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://simtk-confluence.stanford.edu:8080/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Feb 02, 2012 10:52</font></td>
		    </tr>
	    </table>
    </body>
</html>
