// rdBodyConstraint.h
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//	AUTHOR: Frank C. Anderson
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#ifndef __rdBodyConstraint_h__
#define __rdBodyConstraint_h__


//==============================================================================
// INCLUDES
//==============================================================================
#include "rdTools.h"
#include "rdPointConstraint.h"
//class rdPointConstraint;


//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
/**
 * A class for specifiying point constraints on a body.
 *
 * @author Frank C. Anderson
 * @version 1.0
 */
class RDTOOLS_API rdBodyConstraint
{
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//==============================================================================
// DATA
//==============================================================================
public:
	int _id;							// BODY ID
	rdPointConstraint _pc[3];	// POINT CONSTRAINTS (3 MAX, for now)

//==============================================================================
// METHODS
//==============================================================================
public:
	//---------------------------------------------------------------------------
	// CONSTRUCTION
	//---------------------------------------------------------------------------
	virtual ~rdBodyConstraint();
	rdBodyConstraint();

	//---------------------------------------------------------------------------
	// SET AND GET
	//---------------------------------------------------------------------------
	int getNC();
	void setID(int aID);
	int getID();
	rdPointConstraint* getPC(int aI);

	//---------------------------------------------------------------------------
	// CONSTRAINT CONSTRUCTION
	//---------------------------------------------------------------------------
	void setValues(int aN,int aID[],double aV[][3]);
	void constructConstraintsForPoint1();
	void constructConstraintsForPoint2();
	double* findMostOrthogonal(rdPointConstraint *aPC,double aV[3]);

	//---------------------------------------------------------------------------
	// UTILITY
	//---------------------------------------------------------------------------
	void clear();
	void clearValues();

//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
};	// END class rdBodyConstraint
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


#endif // #ifndef __rdBodyConstraint_h__
