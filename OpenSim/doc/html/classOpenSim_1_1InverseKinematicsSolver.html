<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenSim: OpenSim::InverseKinematicsSolver Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenSim
   &#160;<span id="projectnumber">OpenSim Trunk</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classOpenSim_1_1InverseKinematicsSolver.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">OpenSim::InverseKinematicsSolver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="OpenSim::InverseKinematicsSolver" --><!-- doxytag: inherits="OpenSim::AssemblySolver" -->
<p>Solve for the coordinates (degrees-of-freedom) of the model that satisfy the set of constraints imposed on the model as well as set of desired coordinate values.  
 <a href="classOpenSim_1_1InverseKinematicsSolver.html#details">More...</a></p>

<p><code>#include &lt;InverseKinematicsSolver.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OpenSim::InverseKinematicsSolver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classOpenSim_1_1InverseKinematicsSolver.png" usemap="#OpenSim::InverseKinematicsSolver_map" alt=""/>
  <map id="OpenSim::InverseKinematicsSolver_map" name="OpenSim::InverseKinematicsSolver_map">
<area href="classOpenSim_1_1AssemblySolver.html" title="Solve for the coordinates (degrees-of-freedom) of the model that satisfy the set of constraints impos..." alt="OpenSim::AssemblySolver" shape="rect" coords="0,112,208,136"/>
<area href="classOpenSim_1_1Solver.html" title="The base (abstract) class for a family of objects repsonsible for solving system equations (statics..." alt="OpenSim::Solver" shape="rect" coords="0,56,208,80"/>
<area href="classOpenSim_1_1Object.html" title="Class Oject is intended to be used as the base class for all OpenSim objects." alt="OpenSim::Object" shape="rect" coords="0,0,208,24"/>
</map>
 </div></div>

<p><a href="classOpenSim_1_1InverseKinematicsSolver-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a8420e8ed4cd8e82638c717cfae83fba5">~InverseKinematicsSolver</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#abb7799dcaff64b08356b090689efe02f">InverseKinematicsSolver</a> (const <a class="el" href="classOpenSim_1_1Model.html">Model</a> &amp;model, <a class="el" href="classOpenSim_1_1MarkersReference.html">MarkersReference</a> &amp;markersReference, SimTK::Array_&lt; <a class="el" href="classOpenSim_1_1CoordinateReference.html">CoordinateReference</a> &gt; &amp;coordinateReferences, double constraintWeight=SimTK::Infinity)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An implementation of the <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html" title="Solve for the coordinates (degrees-of-freedom) of the model that satisfy the set of constraints impos...">InverseKinematicsSolver</a>.  <a href="#abb7799dcaff64b08356b090689efe02f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a25d5cc7bcfd9e717494a3b6281960df5">updateMarkerWeight</a> (const std::string &amp;markerName, double value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Assemble a model configuration that meets the InverseKinematics conditions (desired values and constraints) starting from an initial state that does not have to satisfy the constraints.  <a href="#a25d5cc7bcfd9e717494a3b6281960df5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#ab06bbd19d71ef41dbb0bd75a5aefc965">updateMarkerWeight</a> (int markerIndex, double value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a marker's weight by its index.  <a href="#ab06bbd19d71ef41dbb0bd75a5aefc965"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a4f6351a4a3bf59ecb0a2c0136084058c">updateMarkerWeights</a> (const SimTK::Array_&lt; double &gt; &amp;weights)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all markers weights by order in the markersRerence passed in to construct the solver.  <a href="#a4f6351a4a3bf59ecb0a2c0136084058c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">SimTK::Vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a17c2d7e064b74d2307725ce211afa0cb">computeCurrentMarkerLocation</a> (const std::string &amp;markerName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and return the spatial location of a marker in ground.  <a href="#a17c2d7e064b74d2307725ce211afa0cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">SimTK::Vec3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a4b9667c62affc59b7866e1d8da79ea33">computeCurrentMarkerLocation</a> (int markerIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a8e155144984be917c58d429b901e964f">computeCurrentMarkerLocations</a> (SimTK::Array_&lt; SimTK::Vec3 &gt; &amp;markerLocations)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and return the spatial locations of all markers in ground.  <a href="#a8e155144984be917c58d429b901e964f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a2a4841807ae34953e195278eb19f98e8">computeCurrentMarkerError</a> (const std::string &amp;markerName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and return the distance error between model marker and observation.  <a href="#a2a4841807ae34953e195278eb19f98e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a07d61480175120f3d84895bf45681572">computeCurrentMarkerError</a> (int markerIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#ae9f4fc9af7f66a423ca3674b5df92801">computeCurrentMarkerErrors</a> (SimTK::Array_&lt; double &gt; &amp;markerErrors)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and return the distance errors between all model markers and their observations.  <a href="#ae9f4fc9af7f66a423ca3674b5df92801"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#af962f5e0e33e5937ca948093789417ae">computeCurrentSquaredMarkerError</a> (const std::string &amp;markerName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and return the squared-distance error between model marker and observation.  <a href="#af962f5e0e33e5937ca948093789417ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#ab496468168073f17e0a84c6a268c2a1a">computeCurrentSquaredMarkerError</a> (int markerIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#aace557c34700e789ec566634ae64480c">computeCurrentSquaredMarkerErrors</a> (SimTK::Array_&lt; double &gt; &amp;markerErrors)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and return the distance errors between all model marker and observations.  <a href="#aace557c34700e789ec566634ae64480c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#adc9c19b6f864fce14b2cb37a27a30b43">setupGoals</a> (SimTK::State &amp;s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal method to convert the CoordinateReferences into goals of the assembly solver.  <a href="#adc9c19b6f864fce14b2cb37a27a30b43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a513f7db1fa91d2f97d4df0ded843b42e">updateGoals</a> (const SimTK::State &amp;s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal method to update the time, reference values and/or their weights that define the goals, based on the passed in state.  <a href="#a513f7db1fa91d2f97d4df0ded843b42e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOpenSim_1_1MarkersReference.html">MarkersReference</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#ab984ccdbd84fe312bd77bffe8c1cb3fe">_markersReference</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">SimTK::Markers *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a9c298b0bbe080c4327286e756273c2e6">_markerAssemblyCondition</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Solve for the coordinates (degrees-of-freedom) of the model that satisfy the set of constraints imposed on the model as well as set of desired coordinate values. </p>
<p>The InverseKinematics provides the option to convert the problem to an approximate one where the constraint violations are treated as penalties to be minimized rather than strictly enforced. This can speed up the time solution and can be used to seed the constrained problem near to a solution.</p>
<p>The InverseKinematics objective: min J = sum(Wm*(m_i-md_i)^T*(m_i-md_i)) + sum(Wq_i*(q_i-qd_i)^2)) + [Wc*sum(c_err)^2] where m_i and md_i are the model and desired marker coordinates (Vec3) iff Wc == Infinity, second term is not included, but A is subject to the constraint equations: G(q)-Go = 0</p>
<p>When the model (and the number of goals) is guaranteed not to change and the the initial state is close to the InverseKinematics solution (from initial <a class="el" href="classOpenSim_1_1AssemblySolver.html#aa2a0df045e68f31050e1263fe4619b07" title="Assemble a model configuration that meets the assembly conditions (desired values and constraints) st...">assemble()</a>, then <a class="el" href="classOpenSim_1_1AssemblySolver.html#a2bb5d0575557afce72e7e3b20b242799" title="Obtain a model configuration that meets the assembly conditions (desired values and constraints) give...">track()</a> is a efficient method for updating the configuration to track the small change to the desired coorindate value.</p>
<p>See SimTK::Assembler for more algorithmic details of the underlying solver.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Ajay Seth </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8420e8ed4cd8e82638c717cfae83fba5"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::~InverseKinematicsSolver" ref="a8420e8ed4cd8e82638c717cfae83fba5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a8420e8ed4cd8e82638c717cfae83fba5">OpenSim::InverseKinematicsSolver::~InverseKinematicsSolver</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abb7799dcaff64b08356b090689efe02f"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::InverseKinematicsSolver" ref="abb7799dcaff64b08356b090689efe02f" args="(const Model &amp;model, MarkersReference &amp;markersReference, SimTK::Array_&lt; CoordinateReference &gt; &amp;coordinateReferences, double constraintWeight=SimTK::Infinity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#abb7799dcaff64b08356b090689efe02f">OpenSim::InverseKinematicsSolver::InverseKinematicsSolver</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOpenSim_1_1Model.html">Model</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOpenSim_1_1MarkersReference.html">MarkersReference</a> &amp;&#160;</td>
          <td class="paramname"><em>markersReference</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SimTK::Array_&lt; <a class="el" href="classOpenSim_1_1CoordinateReference.html">CoordinateReference</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>coordinateReferences</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>constraintWeight</em> = <code>SimTK::Infinity</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An implementation of the <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html" title="Solve for the coordinates (degrees-of-freedom) of the model that satisfy the set of constraints impos...">InverseKinematicsSolver</a>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>to assemble </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2a4841807ae34953e195278eb19f98e8"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::computeCurrentMarkerError" ref="a2a4841807ae34953e195278eb19f98e8" args="(const std::string &amp;markerName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a2a4841807ae34953e195278eb19f98e8">OpenSim::InverseKinematicsSolver::computeCurrentMarkerError</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>markerName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute and return the distance error between model marker and observation. </p>

</div>
</div>
<a class="anchor" id="a07d61480175120f3d84895bf45681572"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::computeCurrentMarkerError" ref="a07d61480175120f3d84895bf45681572" args="(int markerIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a2a4841807ae34953e195278eb19f98e8">OpenSim::InverseKinematicsSolver::computeCurrentMarkerError</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>markerIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9f4fc9af7f66a423ca3674b5df92801"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::computeCurrentMarkerErrors" ref="ae9f4fc9af7f66a423ca3674b5df92801" args="(SimTK::Array_&lt; double &gt; &amp;markerErrors)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#ae9f4fc9af7f66a423ca3674b5df92801">OpenSim::InverseKinematicsSolver::computeCurrentMarkerErrors</a> </td>
          <td>(</td>
          <td class="paramtype">SimTK::Array_&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>markerErrors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute and return the distance errors between all model markers and their observations. </p>

</div>
</div>
<a class="anchor" id="a17c2d7e064b74d2307725ce211afa0cb"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::computeCurrentMarkerLocation" ref="a17c2d7e064b74d2307725ce211afa0cb" args="(const std::string &amp;markerName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Vec3 <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a17c2d7e064b74d2307725ce211afa0cb">OpenSim::InverseKinematicsSolver::computeCurrentMarkerLocation</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>markerName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute and return the spatial location of a marker in ground. </p>

</div>
</div>
<a class="anchor" id="a4b9667c62affc59b7866e1d8da79ea33"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::computeCurrentMarkerLocation" ref="a4b9667c62affc59b7866e1d8da79ea33" args="(int markerIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Vec3 <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a17c2d7e064b74d2307725ce211afa0cb">OpenSim::InverseKinematicsSolver::computeCurrentMarkerLocation</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>markerIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8e155144984be917c58d429b901e964f"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::computeCurrentMarkerLocations" ref="a8e155144984be917c58d429b901e964f" args="(SimTK::Array_&lt; SimTK::Vec3 &gt; &amp;markerLocations)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a8e155144984be917c58d429b901e964f">OpenSim::InverseKinematicsSolver::computeCurrentMarkerLocations</a> </td>
          <td>(</td>
          <td class="paramtype">SimTK::Array_&lt; SimTK::Vec3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>markerLocations</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute and return the spatial locations of all markers in ground. </p>

</div>
</div>
<a class="anchor" id="af962f5e0e33e5937ca948093789417ae"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::computeCurrentSquaredMarkerError" ref="af962f5e0e33e5937ca948093789417ae" args="(const std::string &amp;markerName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#af962f5e0e33e5937ca948093789417ae">OpenSim::InverseKinematicsSolver::computeCurrentSquaredMarkerError</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>markerName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute and return the squared-distance error between model marker and observation. </p>
<p>This is cheaper than calling the error and squaring it, since distance from norm-2</p>

</div>
</div>
<a class="anchor" id="ab496468168073f17e0a84c6a268c2a1a"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::computeCurrentSquaredMarkerError" ref="ab496468168073f17e0a84c6a268c2a1a" args="(int markerIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#af962f5e0e33e5937ca948093789417ae">OpenSim::InverseKinematicsSolver::computeCurrentSquaredMarkerError</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>markerIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aace557c34700e789ec566634ae64480c"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::computeCurrentSquaredMarkerErrors" ref="aace557c34700e789ec566634ae64480c" args="(SimTK::Array_&lt; double &gt; &amp;markerErrors)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#aace557c34700e789ec566634ae64480c">OpenSim::InverseKinematicsSolver::computeCurrentSquaredMarkerErrors</a> </td>
          <td>(</td>
          <td class="paramtype">SimTK::Array_&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>markerErrors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute and return the distance errors between all model marker and observations. </p>

</div>
</div>
<a class="anchor" id="adc9c19b6f864fce14b2cb37a27a30b43"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::setupGoals" ref="adc9c19b6f864fce14b2cb37a27a30b43" args="(SimTK::State &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#adc9c19b6f864fce14b2cb37a27a30b43">OpenSim::InverseKinematicsSolver::setupGoals</a> </td>
          <td>(</td>
          <td class="paramtype">SimTK::State &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal method to convert the CoordinateReferences into goals of the assembly solver. </p>
<p>Internal method to convert the MarkerReferences into additional goals of the of the base assembly solver, that is going to do the assembly.</p>
<p>Subclasses, can add oveeride to include other goals such as point of interest matching (<a class="el" href="classOpenSim_1_1Marker.html" title="A class implementing a SIMM [mocap] marker.">Marker</a> tracking). This method is automatically called by assemble.</p>

<p>Reimplemented from <a class="el" href="classOpenSim_1_1AssemblySolver.html#a773ecc4f12da26bf96ab49f6c51873b3">OpenSim::AssemblySolver</a>.</p>

</div>
</div>
<a class="anchor" id="a513f7db1fa91d2f97d4df0ded843b42e"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::updateGoals" ref="a513f7db1fa91d2f97d4df0ded843b42e" args="(const SimTK::State &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a513f7db1fa91d2f97d4df0ded843b42e">OpenSim::InverseKinematicsSolver::updateGoals</a> </td>
          <td>(</td>
          <td class="paramtype">const SimTK::State &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal method to update the time, reference values and/or their weights that define the goals, based on the passed in state. </p>
<p>Internal method to update the time, reference values and/or their weights based on the state. </p>

<p>Reimplemented from <a class="el" href="classOpenSim_1_1AssemblySolver.html#ad0ce454722e1afabe868ec9957e4f98d">OpenSim::AssemblySolver</a>.</p>

</div>
</div>
<a class="anchor" id="a25d5cc7bcfd9e717494a3b6281960df5"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::updateMarkerWeight" ref="a25d5cc7bcfd9e717494a3b6281960df5" args="(const std::string &amp;markerName, double value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a25d5cc7bcfd9e717494a3b6281960df5">OpenSim::InverseKinematicsSolver::updateMarkerWeight</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>markerName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assemble a model configuration that meets the InverseKinematics conditions (desired values and constraints) starting from an initial state that does not have to satisfy the constraints. </p>
<p>Change the weighting of a marker to take affect when assemble or track is called next.</p>
<p>Obtain a model configuration that meets the InverseKinematics conditions (desired values and constraints) given a state that satisfies or is close to satisfying the constraints. Note there can be no change in the number of constrainst or desired coordinates. Desired coordinate values can and should be updated between repeated calls to track a desired trajectory of coordinate values. Change the weighting of a marker to take affect when assemble or track is called next. Update a marker's weight by name.</p>
<p>Update a marker's weight by name. </p>

</div>
</div>
<a class="anchor" id="ab06bbd19d71ef41dbb0bd75a5aefc965"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::updateMarkerWeight" ref="ab06bbd19d71ef41dbb0bd75a5aefc965" args="(int markerIndex, double value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a25d5cc7bcfd9e717494a3b6281960df5">OpenSim::InverseKinematicsSolver::updateMarkerWeight</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>markerIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update a marker's weight by its index. </p>

</div>
</div>
<a class="anchor" id="a4f6351a4a3bf59ecb0a2c0136084058c"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::updateMarkerWeights" ref="a4f6351a4a3bf59ecb0a2c0136084058c" args="(const SimTK::Array_&lt; double &gt; &amp;weights)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a4f6351a4a3bf59ecb0a2c0136084058c">OpenSim::InverseKinematicsSolver::updateMarkerWeights</a> </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Array_&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>weights</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update all markers weights by order in the markersRerence passed in to construct the solver. </p>
<p>Update all markers weights by order in the markersReference passed in to construct the solver.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a9c298b0bbe080c4327286e756273c2e6"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::_markerAssemblyCondition" ref="a9c298b0bbe080c4327286e756273c2e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Markers* <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#a9c298b0bbe080c4327286e756273c2e6">OpenSim::InverseKinematicsSolver::_markerAssemblyCondition</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab984ccdbd84fe312bd77bffe8c1cb3fe"></a><!-- doxytag: member="OpenSim::InverseKinematicsSolver::_markersReference" ref="ab984ccdbd84fe312bd77bffe8c1cb3fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenSim_1_1MarkersReference.html">MarkersReference</a>&amp; <a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html#ab984ccdbd84fe312bd77bffe8c1cb3fe">OpenSim::InverseKinematicsSolver::_markersReference</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>OpenSim/Simulation/InverseKinematicsSolver.h</li>
<li>OpenSim/Simulation/InverseKinematicsSolver.cpp</li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>OpenSim</b>      </li>
      <li class="navelem"><a class="el" href="classOpenSim_1_1InverseKinematicsSolver.html">InverseKinematicsSolver</a>      </li>

    <li class="footer">Generated on Mon Jan 16 2012 00:33:37 for OpenSim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
