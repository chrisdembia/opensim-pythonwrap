/*
 * ForwardToolPanel.java
 *
 * Created on July 23, 2007, 6:59 PM
 */

package org.opensim.tracking;

import java.awt.Component;
import java.io.IOException;
import java.util.Observable;
import java.util.Observer;
import javax.swing.JPanel;
import org.opensim.modeling.Model;

/**
 *
 * @author  erang
 */
public class ForwardToolPanel extends BaseToolPanel implements Observer {
  
   ForwardToolModel forwardToolModel = null;
   ActuatorsAndExternalLoadsPanel actuatorsAndExternalLoadsPanel = null;

   /** Creates new form ForwardToolPanel */
   public ForwardToolPanel(Model model) throws IOException {
      forwardToolModel = new ForwardToolModel(model);

      initComponents();

      resultsDirectory.setIncludeOpenButton(true);

      actuatorsAndExternalLoadsPanel = new ActuatorsAndExternalLoadsPanel();
      jTabbedPane.insertTab("Actuators and External Loads", null, actuatorsAndExternalLoadsPanel, null, 1);

      setSettingsFileDescription("Forward tool settings file");
      updateFromModel();
      forwardToolModel.addObserver(this);
   }

   public void update(Observable observable, Object obj) {
      if(observable == forwardToolModel && obj == AbstractToolModel.Operation.ExecutionStateChanged)
         updateDialogButtons();
      else
         updateFromModel(); 
   }

   private void disablePanel(JPanel panel) {
      for(Component comp : panel.getComponents()) {
         comp.setEnabled(false);
         if(comp instanceof JPanel) disablePanel((JPanel)comp);
      }
   }

   public void updateFromModel() {
      // Disable everything for now...
      //disablePanel(mainSettingsPanel);
      //disablePanel(advancedSettingsPanel);
      //disablePanel(actuatorsAndExternalLoadsPanel);

      modelName.setText(forwardToolModel.getOriginalModel().getName());
      
      // Input
      controlsFileName.setFileName(forwardToolModel.getControlsFileName(),false);
      initialStatesFileName.setFileName(forwardToolModel.getInitialStatesFileName(),false);

      // Time
      initialTime.setText(((Double)forwardToolModel.getInitialTime()).toString());
      finalTime.setText(((Double)forwardToolModel.getFinalTime()).toString());

      // Output
      outputPrecision.setText(((Integer)forwardToolModel.getOutputPrecision()).toString());
      resultsDirectory.setFileName(forwardToolModel.getResultsDirectory(),false);

      // Integrator settings
      useSpecifiedDt.setSelected(forwardToolModel.getUseSpecifiedDt());
      maximumNumberOfSteps.setText(((Double)forwardToolModel.getMaximumNumberOfSteps()).toString());
      maxDT.setText(((Double)forwardToolModel.getMaxDT()).toString());
      errorTolerance.setText(((Double)forwardToolModel.getErrorTolerance()).toString());
      fineTolerance.setText(((Double)forwardToolModel.getFineTolerance()).toString());
      
      // Actuators & external loads
      actuatorsAndExternalLoadsPanel.updatePanel(forwardToolModel);
   }

   public void updateDialogButtons() {
      updateApplyButton(!forwardToolModel.isExecuting() && forwardToolModel.isModified() && forwardToolModel.isValid());
   }

   //------------------------------------------------------------------------
   // Overrides from BaseToolPanel
   //------------------------------------------------------------------------

   public void loadSettings(String fileName) { forwardToolModel.loadSettings(fileName); }
   public void saveSettings(String fileName) { forwardToolModel.saveSettings(fileName); }

   public void pressedCancel() {
      forwardToolModel.cancel();
   }

   public void pressedClose() {
   }

   public void pressedApply() {
      forwardToolModel.execute();
      updateDialogButtons();
   }

   /** This method is called from within the constructor to
    * initialize the form.
    * WARNING: Do NOT modify this code. The content of this method is
    * always regenerated by the Form Editor.
    */
   // <editor-fold defaultstate="collapsed" desc=" Generated Code ">//GEN-BEGIN:initComponents
   private void initComponents() {
      jTabbedPane = new javax.swing.JTabbedPane();
      mainSettingsPanel = new javax.swing.JPanel();
      jPanel2 = new javax.swing.JPanel();
      jLabel3 = new javax.swing.JLabel();
      controlsFileName = new org.opensim.swingui.FileTextFieldAndChooser();
      jLabel1 = new javax.swing.JLabel();
      initialStatesFileName = new org.opensim.swingui.FileTextFieldAndChooser();
      jPanel3 = new javax.swing.JPanel();
      jLabel4 = new javax.swing.JLabel();
      initialTime = new javax.swing.JTextField();
      jLabel5 = new javax.swing.JLabel();
      finalTime = new javax.swing.JTextField();
      jPanel4 = new javax.swing.JPanel();
      jLabel10 = new javax.swing.JLabel();
      outputPrecision = new javax.swing.JTextField();
      jLabel11 = new javax.swing.JLabel();
      resultsDirectory = new org.opensim.swingui.FileTextFieldAndChooser();
      jPanel1 = new javax.swing.JPanel();
      jLabel2 = new javax.swing.JLabel();
      modelName = new javax.swing.JTextField();
      advancedSettingsPanel = new javax.swing.JPanel();
      jPanel5 = new javax.swing.JPanel();
      jLabel7 = new javax.swing.JLabel();
      jLabel9 = new javax.swing.JLabel();
      jLabel12 = new javax.swing.JLabel();
      useSpecifiedDt = new javax.swing.JCheckBox();
      jLabel6 = new javax.swing.JLabel();
      maximumNumberOfSteps = new javax.swing.JTextField();
      jLabel13 = new javax.swing.JLabel();
      maxDT = new javax.swing.JTextField();
      errorTolerance = new javax.swing.JTextField();
      jLabel8 = new javax.swing.JLabel();
      fineTolerance = new javax.swing.JTextField();

      jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Input"));
      jLabel3.setText("Controls");

      jLabel1.setText("Initial states");

      org.jdesktop.layout.GroupLayout jPanel2Layout = new org.jdesktop.layout.GroupLayout(jPanel2);
      jPanel2.setLayout(jPanel2Layout);
      jPanel2Layout.setHorizontalGroup(
         jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel2Layout.createSequentialGroup()
            .addContainerGap()
            .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
               .add(jPanel2Layout.createSequentialGroup()
                  .add(19, 19, 19)
                  .add(jLabel3))
               .add(jLabel1))
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
               .add(initialStatesFileName, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 567, Short.MAX_VALUE)
               .add(controlsFileName, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 567, Short.MAX_VALUE))
            .addContainerGap())
      );
      jPanel2Layout.setVerticalGroup(
         jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel2Layout.createSequentialGroup()
            .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
               .add(jLabel3)
               .add(controlsFileName, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
               .add(jLabel1)
               .add(initialStatesFileName, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
            .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
      );

      jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Time"));
      jLabel4.setText("Initial time");

      initialTime.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      initialTime.setText("jTextField2");

      jLabel5.setText("Final time");

      finalTime.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      finalTime.setText("jTextField1");

      org.jdesktop.layout.GroupLayout jPanel3Layout = new org.jdesktop.layout.GroupLayout(jPanel3);
      jPanel3.setLayout(jPanel3Layout);
      jPanel3Layout.setHorizontalGroup(
         jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel3Layout.createSequentialGroup()
            .addContainerGap()
            .add(jLabel4)
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(initialTime, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
            .add(35, 35, 35)
            .add(jLabel5)
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(finalTime, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
            .addContainerGap(385, Short.MAX_VALUE))
      );

      jPanel3Layout.linkSize(new java.awt.Component[] {finalTime, initialTime}, org.jdesktop.layout.GroupLayout.HORIZONTAL);

      jPanel3Layout.setVerticalGroup(
         jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel3Layout.createSequentialGroup()
            .add(jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
               .add(jLabel4)
               .add(initialTime, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 20, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(jLabel5)
               .add(finalTime, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
            .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
      );

      jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Output"));
      jLabel10.setText("Output precision");

      outputPrecision.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      outputPrecision.setText("jTextField1");
      outputPrecision.setMinimumSize(new java.awt.Dimension(40, 20));

      jLabel11.setText("Results directory");

      org.jdesktop.layout.GroupLayout jPanel4Layout = new org.jdesktop.layout.GroupLayout(jPanel4);
      jPanel4.setLayout(jPanel4Layout);
      jPanel4Layout.setHorizontalGroup(
         jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel4Layout.createSequentialGroup()
            .addContainerGap()
            .add(jLabel11)
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(resultsDirectory, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 367, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 36, Short.MAX_VALUE)
            .add(jLabel10)
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(outputPrecision, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
            .addContainerGap())
      );
      jPanel4Layout.setVerticalGroup(
         jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel4Layout.createSequentialGroup()
            .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
               .add(resultsDirectory, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                  .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                     .add(jLabel10)
                     .add(outputPrecision, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                  .add(jPanel4Layout.createSequentialGroup()
                     .add(6, 6, 6)
                     .add(jLabel11))))
            .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
      );

      jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Current Model"));
      jLabel2.setText("Name");

      modelName.setText("jTextField1");

      org.jdesktop.layout.GroupLayout jPanel1Layout = new org.jdesktop.layout.GroupLayout(jPanel1);
      jPanel1.setLayout(jPanel1Layout);
      jPanel1Layout.setHorizontalGroup(
         jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel1Layout.createSequentialGroup()
            .addContainerGap()
            .add(jLabel2)
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(modelName, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 599, Short.MAX_VALUE)
            .addContainerGap())
      );
      jPanel1Layout.setVerticalGroup(
         jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel1Layout.createSequentialGroup()
            .add(6, 6, 6)
            .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
               .add(jLabel2)
               .add(modelName, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
            .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
      );

      org.jdesktop.layout.GroupLayout mainSettingsPanelLayout = new org.jdesktop.layout.GroupLayout(mainSettingsPanel);
      mainSettingsPanel.setLayout(mainSettingsPanelLayout);
      mainSettingsPanelLayout.setHorizontalGroup(
         mainSettingsPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(org.jdesktop.layout.GroupLayout.TRAILING, mainSettingsPanelLayout.createSequentialGroup()
            .addContainerGap()
            .add(mainSettingsPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
               .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel4, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
               .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
               .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
               .add(org.jdesktop.layout.GroupLayout.LEADING, jPanel3, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addContainerGap())
      );
      mainSettingsPanelLayout.setVerticalGroup(
         mainSettingsPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(mainSettingsPanelLayout.createSequentialGroup()
            .addContainerGap()
            .add(jPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(jPanel2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(jPanel3, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(jPanel4, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
            .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
      );
      jTabbedPane.addTab("Main Settings", mainSettingsPanel);

      jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Integrator Settings"));
      jLabel7.setText("Integrator steps:");

      jLabel9.setText("Integrator tolerances:");

      jLabel12.setText("Error tolerance");

      useSpecifiedDt.setText("Use time steps from states file");
      useSpecifiedDt.setBorder(javax.swing.BorderFactory.createEmptyBorder(0, 0, 0, 0));
      useSpecifiedDt.setMargin(new java.awt.Insets(0, 0, 0, 0));

      jLabel6.setText("Maximum number");

      maximumNumberOfSteps.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      maximumNumberOfSteps.setText("jTextField5");

      jLabel13.setText("Maximum step size");

      maxDT.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      maxDT.setText("jTextField6");

      errorTolerance.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      errorTolerance.setText("jTextField7");

      jLabel8.setText("Fine tolerance");

      fineTolerance.setHorizontalAlignment(javax.swing.JTextField.TRAILING);
      fineTolerance.setText("jTextField8");

      org.jdesktop.layout.GroupLayout jPanel5Layout = new org.jdesktop.layout.GroupLayout(jPanel5);
      jPanel5.setLayout(jPanel5Layout);
      jPanel5Layout.setHorizontalGroup(
         jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel5Layout.createSequentialGroup()
            .addContainerGap()
            .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
               .add(useSpecifiedDt)
               .add(jPanel5Layout.createSequentialGroup()
                  .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, jLabel7)
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, jLabel9))
                  .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 21, Short.MAX_VALUE)
                  .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                     .add(jLabel12)
                     .add(jLabel6))
                  .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                  .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, errorTolerance)
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, maximumNumberOfSteps, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 76, Short.MAX_VALUE))
                  .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                     .add(jPanel5Layout.createSequentialGroup()
                        .add(35, 35, 35)
                        .add(jLabel13))
                     .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel5Layout.createSequentialGroup()
                        .add(56, 56, 56)
                        .add(jLabel8)))
                  .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                  .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
                     .add(fineTolerance)
                     .add(maxDT, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 80, Short.MAX_VALUE))))
            .addContainerGap(137, Short.MAX_VALUE))
      );

      jPanel5Layout.linkSize(new java.awt.Component[] {errorTolerance, fineTolerance, maxDT, maximumNumberOfSteps}, org.jdesktop.layout.GroupLayout.HORIZONTAL);

      jPanel5Layout.setVerticalGroup(
         jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(jPanel5Layout.createSequentialGroup()
            .add(useSpecifiedDt)
            .add(5, 5, 5)
            .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
               .add(jLabel7)
               .add(maximumNumberOfSteps, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(jLabel13)
               .add(maxDT, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(jLabel6))
            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
            .add(jPanel5Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
               .add(jLabel9)
               .add(jLabel12)
               .add(jLabel8)
               .add(fineTolerance, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
               .add(errorTolerance, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
            .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
      );

      org.jdesktop.layout.GroupLayout advancedSettingsPanelLayout = new org.jdesktop.layout.GroupLayout(advancedSettingsPanel);
      advancedSettingsPanel.setLayout(advancedSettingsPanelLayout);
      advancedSettingsPanelLayout.setHorizontalGroup(
         advancedSettingsPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(advancedSettingsPanelLayout.createSequentialGroup()
            .addContainerGap()
            .add(jPanel5, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addContainerGap())
      );
      advancedSettingsPanelLayout.setVerticalGroup(
         advancedSettingsPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(advancedSettingsPanelLayout.createSequentialGroup()
            .addContainerGap()
            .add(jPanel5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
            .addContainerGap(186, Short.MAX_VALUE))
      );
      jTabbedPane.addTab("Advanced Settings", advancedSettingsPanel);

      org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(this);
      this.setLayout(layout);
      layout.setHorizontalGroup(
         layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(layout.createSequentialGroup()
            .add(jTabbedPane, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 687, Short.MAX_VALUE)
            .addContainerGap())
      );
      layout.setVerticalGroup(
         layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
         .add(layout.createSequentialGroup()
            .add(jTabbedPane, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 328, Short.MAX_VALUE)
            .addContainerGap())
      );
   }// </editor-fold>//GEN-END:initComponents
   
   
   // Variables declaration - do not modify//GEN-BEGIN:variables
   private javax.swing.JPanel advancedSettingsPanel;
   private org.opensim.swingui.FileTextFieldAndChooser controlsFileName;
   private javax.swing.JTextField errorTolerance;
   private javax.swing.JTextField finalTime;
   private javax.swing.JTextField fineTolerance;
   private org.opensim.swingui.FileTextFieldAndChooser initialStatesFileName;
   private javax.swing.JTextField initialTime;
   private javax.swing.JLabel jLabel1;
   private javax.swing.JLabel jLabel10;
   private javax.swing.JLabel jLabel11;
   private javax.swing.JLabel jLabel12;
   private javax.swing.JLabel jLabel13;
   private javax.swing.JLabel jLabel2;
   private javax.swing.JLabel jLabel3;
   private javax.swing.JLabel jLabel4;
   private javax.swing.JLabel jLabel5;
   private javax.swing.JLabel jLabel6;
   private javax.swing.JLabel jLabel7;
   private javax.swing.JLabel jLabel8;
   private javax.swing.JLabel jLabel9;
   private javax.swing.JPanel jPanel1;
   private javax.swing.JPanel jPanel2;
   private javax.swing.JPanel jPanel3;
   private javax.swing.JPanel jPanel4;
   private javax.swing.JPanel jPanel5;
   private javax.swing.JTabbedPane jTabbedPane;
   private javax.swing.JPanel mainSettingsPanel;
   private javax.swing.JTextField maxDT;
   private javax.swing.JTextField maximumNumberOfSteps;
   private javax.swing.JTextField modelName;
   private javax.swing.JTextField outputPrecision;
   private org.opensim.swingui.FileTextFieldAndChooser resultsDirectory;
   private javax.swing.JCheckBox useSpecifiedDt;
   // End of variables declaration//GEN-END:variables
   
}
