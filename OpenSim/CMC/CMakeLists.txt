SET(KIT CMC)
SET(UKIT CMC)

## Version Stuff
SET(OPENSIM_RDCMC_LIBRARY_NAME rd${Kit})
SET(OPENSIM_RDCMC_MAJOR_VERSION 0)
SET(OPENSIM_RDCMC_MINOR_VERSION 7)
SET(OPENSIM_RDCMC_BUILD_VERSION 1)
SET(OPENSIM_RDCMC_COPYRIGHT_YEARS "2006")
SET(OPENSIM_RDCMC_AUTHORS "Frank_C_Anderson")

ADD_DEFINITIONS(
	-DOPENSIM_RDCMC_LIBRARY_NAME=${OPENSIM_RDCMC_LIBRARY_NAME}
	-DOPENSIM_RDCMC_MAJOR_VERSION=${OPENSIM_RDCMC_MAJOR_VERSION}
	-DOPENSIM_RDCMC_MINOR_VERSION=${OPENSIM_RDCMC_MINOR_VERSION}
	-DOPENSIM_RDCMC_BUILD_VERSION=${OPENSIM_RDCMC_BUILD_VERSION}
	-DOPENSIM_RDCMC_COPYRIGHT_YEARS="${OPENSIM_RDCMC_COPYRIGHT_YEARS}"
	-DOPENSIM_RDCMC_AUTHORS="${OPENSIM_RDCMC_AUTHORS}"
	-DOPENSIM_RDCMC_TYPE="Shared")

FILE(GLOB SOURCE_FILES *.cpp)
FILE(GLOB INCLUDE_FILES *.h)

INCLUDE_DIRECTORIES(
	${OpenSim_SOURCE_DIR}
	${OpenSim_SOURCE_DIR}/Vendors
	${XERCES_INCLUDE_DIR})

SET(EXPORT_MACRO RD${UKIT}_EXPORTS)

LINK_LIBRARIES(
	debug rdTools_d optimized rdTools
	debug rdSimulation_d optimized rdSimulation
	debug suAnalyses_d optimized suAnalyses
	debug rdSQP_d optimized rdSQP)
				
LINK_DIRECTORIES( ${OpenSim_LIBS_DIR}/${RDI_ARCH} )
ADD_LIBRARY(rd${KIT} SHARED ${SOURCE_FILES} ${INCLUDE_FILES}) 

SET_TARGET_PROPERTIES(
	rd${KIT} PROPERTIES
	DEFINE_SYMBOL ${EXPORT_MACRO})

INSTALL_TARGETS(/lib/ RUNTIME_DIRECTORY /lib rd${KIT})
INSTALL_FILES(/include/OpenSim/${KIT} .h ${INCLUDE_FILES})
