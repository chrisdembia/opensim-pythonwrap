<?xml version="1.0" encoding="UTF-8"?>
<InvestigationPerturbation name="subject01_walk01">
	<model_library> subject01 </model_library>
	<model_file> subject01.xml </model_file>
	<replace_actuator_set> false </replace_actuator_set>
	<actuator_set_files> gait2354_CMC_Actuators.xml </actuator_set_files>
	<results_directory> ./ResultsPerturbed </results_directory>

	<!-- Basic simulation paramters -->
	<output_precision> 12 </output_precision>
	<initial_time> 0.50 </initial_time>
	<final_time> 0.71 </final_time>

	<perturbation_time_window> 0.03 </perturbation_time_window>
	<perturbation_time_increment> 0.01 </perturbation_time_increment>
	<perturbation_size> 1 </perturbation_size>
	
	<!-- Integrator settings -->
	<maximum_number_of_integrator_steps> 20000 </maximum_number_of_integrator_steps>
	<maximum_integrator_step_size> 1.0e-4 </maximum_integrator_step_size>
	<integrator_error_tolerance> 1.0e-7 </integrator_error_tolerance>
	<integrator_fine_tolerance>  1.0e-10 </integrator_fine_tolerance>
	
	<!-- Corrective springs paramters -->
	<scaling_rise_time> 0.001 </scaling_rise_time>
	<corrective_spring_linear_stiffness> 5.0e6 5.0e6 5.0e6 </corrective_spring_linear_stiffness>
	<corrective_spring_linear_damping> 1.5e3 1.5e3 1.5e3 </corrective_spring_linear_damping>
	<corrective_spring_torsional_stiffness> 1.0e5 1.0e5 1.0e5 </corrective_spring_torsional_stiffness>
	<corrective_spring_torsional_damping> 1.0e3 1.0e3 1.0e3 </corrective_spring_torsional_damping>
	
	<!-- Input files -->
	<controls_file_name> ResultsCMC/subject01_walk01_controls.xml </controls_file_name>
	<cop_file_name> subject01_walk01.mot </cop_file_name>
	<coordinates_file_name> ResultsCMC/subject01_walk01_Kinematics_q.sto </coordinates_file_name>
	<speeds_file_name> ResultsCMC/subject01_walk01_Kinematics_u.sto </speeds_file_name>
	<states_file_name> ResultsCMC/subject01_walk01_states.sto </states_file_name>
	
	<!-- Foot contact event times - approximated from animation -->
	<r_heel_strike>-0.05 </r_heel_strike> <!-- fictitious -->
	<r_foot_flat>   0.10 </r_foot_flat> <!-- fictitious -->
	<r_heel_off>    0.45 </r_heel_off>
	<r_toe_off>     0.69 </r_toe_off>
	<l_heel_strike> 0.57 </l_heel_strike>
	<l_foot_flat>   0.70 </l_foot_flat>
	<l_heel_off>    1.00 </l_heel_off>
	<l_toe_off>     1.26 </l_toe_off>

	<!-- Ground reaction forces -->
	<external_loads_file_name> subject01_walk01.mot </external_loads_file_name>
	<external_loads_model_kinematics_file_name> subject01_walk01_ik.mot </external_loads_model_kinematics_file_name>
	<external_loads_body1> calcn_r </external_loads_body1>
	<external_loads_body2> calcn_l </external_loads_body2>
	<lowpass_cutoff_frequency_for_load_kinematics> 6.0 </lowpass_cutoff_frequency_for_load_kinematics>
	
	<adjusted_com_body> torso </adjusted_com_body>
	<adjusted_com_file_name> rra_newTorsoCOM.txt </adjusted_com_file_name>
</InvestigationPerturbation>

