# Makefile for compiling rdSimModelUTWalking8

#=============================
# DIRECTORIES
#=============================
include ../../../makedirs

#=============================
# INCLUDE SEARCH PATHS
#=============================
INC	= -I$(D_LIBDEV)

#=============================
# LIBRARIES
#=============================
LIB1	=	-lrdSimModel -lrdMath -lrdOldMath
LIB2	=	-lsdDyn23 -lrdUtil -lutMusMod -lrdGFX -lgl -lm -lftn
LIB	=	-L$(D_LIBDEV) $(LIB1) $(LIB2)


#=============================
# COMPILERS
#=============================
PURIFY = 
cc	=	$(PURIFY) cc
CC =	$(PURIFY) CC
FF	=	$(PURIFY) f77
AR	=	ar

#=============================
# FLAGS
#=============================
CCFLG		=	-g -DUNIX
FFFLG		=	-g
ARFLG		=	-rsv

#=============================
# OBJECTS
#=============================
OBJS10	=	rdSimModelUTWalking8.o
OBJS20	=	w23intl.o w23force.o w23xbound.o w23newynode.o
OBJS30	=	w23parameters.o w23sforce.o w23spring.o 23skgspec.o w23ref_intl.o
OBJS40	=	drawUTWalking.o 23drawGL.o 23inputs.o
OBJS100	=	$(OBJS10) $(OBJS20) $(OBJS30) $(OBJS40)

#=============================
# TARGETS
#=============================
S100	=	$(D_LIBDEV)/librdSimModelUTWalking8.so

#=============================
# RULES
#=============================
all : $(S100)

clean :
	rm *.o $(S100)


$(S100) : $(OBJS100)
	$(CC) $(CCFLG) -shared -o $(S100) $(OBJS100) $(LIB)


rdSimModelUTWalking8.o : rdSimModelUTWalking8.cpp rdSimModelUTWalking8.h
	$(CC) $(CCFLG) $(INC) -c -o rdSimModelUTWalking8.o rdSimModelUTWalking8.cpp

drawUTWalking.o : drawUTWalking.f
	$(FF) $(FFFLG) -c -o drawUTWalking.o drawUTWalking.f

23drawGL.o : 23drawGL.c 23drawGL.h
	$(cc) $(CCFLG) -woff1174,1164 $(INC) -c -o 23drawGL.o 23drawGL.c

23inputs.o : 23inputs.c 23inputs.h
	$(cc) $(CCFLG) $(INC) -c -o 23inputs.o 23inputs.c

w23parameters.o : w23parameters.f
	$(FF) $(FFFLG) -c -o w23parameters.o w23parameters.f

w23intl.o : w23intl.f
	$(FF) $(FFFLG) -c -o w23intl.o w23intl.f

w23sforce.o : w23sforce.f
	$(FF) $(FFFLG) -c -o w23sforce.o w23sforce.f

w23spring.o : w23spring.f
	$(FF) $(FFFLG) -c -o w23spring.o w23spring.f

w23force.o : w23force.f
	$(FF) $(FFFLG) -c -o w23force.o w23force.f

w23xbound.o : w23xbound.f
	$(FF) $(FFFLG) -c -o w23xbound.o w23xbound.f

w23newynode.o : w23newynode.f
	$(FF) $(FFFLG) -c -o w23newynode.o w23newynode.f

w23moddat.o : w23moddat.f
	$(FF) $(FFFLG) -woff2310 -c -o w23moddat.o w23moddat.f

23skgspec.o : 23skgspec.f
	$(FF) $(FFFLG) -c -o 23skgspec.o 23skgspec.f

w23ref_intl.o : w23ref_intl.f
	$(FF) $(FFFLG) -c -o w23ref_intl.o w23ref_intl.f
