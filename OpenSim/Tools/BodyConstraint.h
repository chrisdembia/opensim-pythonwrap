#ifndef _BodyConstraint_h_
#define _BodyConstraint_h_
// BodyConstraint.h
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//	AUTHOR: Frank C. Anderson
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


//==============================================================================
// INCLUDES
//==============================================================================
#include "rdTools.h"
#include "PointConstraint.h"
//class PointConstraint;


//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
/**
 * A class for specifiying point constraints on a body.
 *
 * @author Frank C. Anderson
 * @version 1.0
 */
namespace OpenSim { 

class RDTOOLS_API BodyConstraint
{
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//==============================================================================
// DATA
//==============================================================================
public:
	int _id;							// BODY ID
	PointConstraint _pc[3];	// POINT CONSTRAINTS (3 MAX, for now)

//==============================================================================
// METHODS
//==============================================================================
public:
	//---------------------------------------------------------------------------
	// CONSTRUCTION
	//---------------------------------------------------------------------------
	virtual ~BodyConstraint();
	BodyConstraint();

	//---------------------------------------------------------------------------
	// SET AND GET
	//---------------------------------------------------------------------------
	int getNC();
	void setID(int aID);
	int getID();
	PointConstraint* getPC(int aI);

	//---------------------------------------------------------------------------
	// CONSTRAINT CONSTRUCTION
	//---------------------------------------------------------------------------
	void setValues(int aN,int aID[],double aV[][3]);
	void constructConstraintsForPoint1();
	void constructConstraintsForPoint2();
	double* findMostOrthogonal(PointConstraint *aPC,double aV[3]);

	//---------------------------------------------------------------------------
	// UTILITY
	//---------------------------------------------------------------------------
	void clear();
	void clearValues();

//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
};	// END class BodyConstraint

}; //namespace
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


#endif // #ifndef __BodyConstraint_h__
